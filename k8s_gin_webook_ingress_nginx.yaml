apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: gin-webook-ingress
  annotations:
    kubernetes.io/ingress.class: nginx
spec:
#  使用 nginx
  ingressClassName: nginx

  rules:
#   当 host 是live.webook.com的时候,命中这条
    - host: live.webook.com
      http:
        paths:
#         请求路劲的前缀是 / 的时候,将流量转发到后面的 gin-webook,端口是 80
          - backend:
              service:
#               名字从 k8s_gin_webook_service.yaml里面的metadata.name
                name: gin-webook
#               名字从 k8s_gin_webook_service.yaml里面的spec.ports.port
                port:
                  number: 81

            pathType: Prefix
            path: /



  